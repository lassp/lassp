<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <title>LASSP</title>

    <link rel="icon" type="image/x-icon" href="./img/favicon.ico">

    <link rel="stylesheet" href="./css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">

    <!--[if lt IE 9]>
    <script type="text/javascript" src="./js/html5.js"></script>
    <![endif]-->
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/bootstrap.min.js"></script>

</head>

<body>

    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="brand" href="./"><span class="lassp-yellow">Los Angeles Solar System Project</span></a>
                <div class="nav-collapse collapse">
                    <ul class="nav">
                        <li class="active"><a href="./">Home</a></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </div>
    </div>
    <div class="container-fluid">

        <style>
            <!--
            #map-canvas {
                height: 400px;
            }

            #map-canvas img {
                max-width: none;
            }

            #map-canvas label {
                width: auto;
                display: inline;
            }

            .infoWindow td {
                padding-right: 10px;
                text-align: right;
            }
            .infoWindow hr {
                margin: 10px;
            }
            -->
        </style>

        <div class="row-fluid">
            <div class="span12" id="map-canvas"></div>
        </div>

        <div class="row-fluid">

            <div class="span4">
                <h2>
                    The LASSP Vision
                </h2>
                <p>
                    The Solar System is a grand place, wider than we can imagine, very much an empty place.
                </p>
                <p>
                    If the
                    sun were the size of the Griffith Observatory Planetarium Dome, the earth would be little
                    bigger than a soccer ball, more than a mile away. The moon would be the size of a baseball 23 feet
                    from
                    the earth. The nearest star would be 100,000 miles above the Indian Ocean.
                </p>
                <p>
                    Whether you grew up
                    with Flash Gordon, James T. Kirk, or Darth Vader, no one is zooming from planet to planet on
                    a day-to-day basis. Visit our sculptural interpretation of the planets around southern California
                    to experience the size and scope of the solar system.
                </p>
                <blockquote>Jack Anderson<br>Project Designer</blockquote>
            </div>

            <div class="span4">
                <h2>
                    The Model
                </h2>
                <dl>
                    <dt>The Sun</dt>
                    <dd>The scale of the project is determined by the size of the planetarium dome. At 83 feet, it is 55
                        million times smaller than the sun.</dd>
                    <dt>The Terrestrial Planets</dt>
                    <dd>Planets orbit the Sun on an elliptical path. The circles represent the aphelion (furthest) and
                        perihelion (closest) points a planet
                        travels on its way around the Sun. The apparent size of the planetarium dome will match the
                        apparent
                        size of the sun from any
                        point on the blue circle (Earth's orbit).</dd>
                    <dt>The Gas Giants</dt>
                    <dd>The Sun represents 99% of the mass of the solar system. The Gas Giants have 99% of the remaining
                        mass consisting mostly of
                        basic elements hydrogen, helium, carbon and oxygen. Their large size let us explore spherical
                        structures.</dd>
                    <dt>The Dwarf Planets and Asteroids</dt>
                    <dd>Thousands of objects orbit the Sun. Many, including Pluto, are resonant with the orbit of
                        Neptune.
                        The twenty-nine largest can be placed around Southern California. One could be as far as St.
                        Louis.
                        Proxima Centuri, the nearest star, in the
                        model would be almost halfway to the moon.</dd>
                </dl>
            </div>

            <div class="span4">
                <h2>
                    Get Involved
                </h2>
                <p>
                    The Solar System Project will provide a connection between art and science, a connection between
                    our city and our sun, a connection between our world and ourselves, and a connection between
                    the cultural and educational institutions of Los Angeles.
                </p>
                <p>
                    Host locations from Hollywood to Mt.
                    Wilson and from Santa Catalina Island to Pasadena will host a planet or an asteroid.
                </p>
                <p>
                    Visitors to
                    these locations will connect with our city and the region in a new way. A visit to one location will
                    inspire curiosity about others. Avid astronomy fans will be compelled to visit every site. School
                    children on a field trip will see their place in the city in a new light and enjoy a new perspective
                    for
                    their place in the universe. They will connect one with the next and connect with each other.
                </p>

                <h2>
                    Contact
                </h2>
                <p>
                    Email us for more information about sponsorship or becoming a host location:
                </p>
                <p><a class="btn btn-success" href="mailto:info@lassp.org" target="_blank">info@lassp.org</a></p>
            </div>
        </div>



        <script type="text/javascript">

            const scaleFactor = 0.0000000186030077868251;
            const planets = [
                {
                    name: "Mercury",
                    description: "Some details about Mercury.",
                    perihelionMiles: 27952469,
                    aphelionMiles: 42466251,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#FF0000",
                    fillOpacity: 0.5
                },
                {
                    name: "Venus",
                    description: "Some details about Venus.",
                    perihelionMiles: 65043245,
                    aphelionMiles: 66118340,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#00FF00",
                    fillOpacity: 0.5
                },
                {
                    name: "Earth",
                    description: "Some details about Earth.",
                    perihelionMiles: 89232882,
                    aphelionMiles: 91920619,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#005CFF",
                    fillOpacity: 0.5
                },
                {
                    name: "Mars",
                    description: "Some details about Mars.",
                    perihelionMiles: 125248563,
                    aphelionMiles: 151050843,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#FF0000",
                    fillOpacity: 0.5
                },
                {
                    name: "Asteroid Belt",
                    description: "Some details about the Asteroid Belt.",
                    perihelionMiles: 160726697,
                    aphelionMiles: 349943411,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#A2A2A3",
                    fillOpacity: 0.5
                },
                {
                    name: "Jupiter",
                    description: "Some details about Jupiter.",
                    perihelionMiles: 448852148,
                    aphelionMiles: 494543684,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#F96806",
                    fillOpacity: 0.5
                },
                {
                    name: "Saturn",
                    description: "Some details about Saturn.",
                    perihelionMiles: 817609721,
                    aphelionMiles: 911142983,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#FF00FF",
                    fillOpacity: 0.5
                },
                {
                    name: "Uranus",
                    description: "Some details about Uranus.",
                    perihelionMiles: 1661021720,
                    aphelionMiles: 1819598228,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#00FF67",
                    fillOpacity: 0.5
                },
                {
                    name: "Neptune",
                    description: "Some details about Neptune.",
                    perihelionMiles: 2692575339,
                    aphelionMiles: 2753855752,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#0000FF",
                    fillOpacity: 0.5
                },
                {
                    name: "Pluto",
                    description: "Some details about Pluto.",
                    perihelionMiles: 2753855752,
                    aphelionMiles: 4468632221,
                    strokeColor: "#0000FF",
                    strokeOpacity: 0.8,
                    strokeWeight: 0,
                    fillColor: "#00FFF8",
                    fillOpacity: 0.35
                }
            ];

            // define map in global scope
            let map;

            function initMap() {

                const center = new google.maps.LatLng(34.11811, -118.300313);
                const mapOptions = {
                    center: center,
                    mapTypeId: google.maps.MapTypeId.HYBRID,
                    tilt: 0
                };

                map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

                for (let i = 0; i < planets.length; i++) {
                    let planet = planets[i];

                    planet.aphelionMilesScaled = planet.aphelionMiles * scaleFactor;
                    planet.perihelionMilesScaled = planet.perihelionMiles * scaleFactor;

                    planet.paths = [
                        drawCircle(center, planet.aphelionMilesScaled, -1),
                        drawCircle(center, planet.perihelionMilesScaled, 1)
                    ]

                    let planetApsides = new google.maps.Polygon(planet);

                    planetApsides.setMap(map);
                    planetApsides.set("name", planet.name);

                    planetApsides.addListener("click", function (event) {
                        clearInterval(intervalId);
                        let widthMiles = Math.round(this.aphelionMiles - this.perihelionMiles);
                        let widthKilometers = Math.round(widthMiles * 1.609344);
                        let widthScaledFeet = Math.round((this.aphelionMilesScaled - this.perihelionMilesScaled) * 5280)
                        let widthScaledMeters = Math.round(widthScaledFeet * 0.3048);
                        infoWindow.setContent(`
                        <div class="infoWindow">
                            <strong>Apsides of ${this.name}</strong><br>
                            <hr>
                            <table>
                                <tr>
                                    <td>Click location:</td><td>${event.latLng.lat().toFixed(6)} lat</td><td>${event.latLng.lng().toFixed(6)} lon</td>
                                </tr><tr>
                                    <td>Apsides width actual:</td><td>${widthMiles.toLocaleString()} mi</td><td>${widthKilometers.toLocaleString()} km</td>
                                </tr><tr>
                                    <td>Apsides width scaled:</td><td>${widthScaledFeet.toLocaleString()} ft</td><td>${widthScaledMeters.toLocaleString()} m</td>
                                </tr><tr>
                                    <td>Perihelion:</td><td>${this.perihelionMiles.toLocaleString()} mi</td><td>${(Math.round(this.aphelionMiles * 1.609344)).toLocaleString()} km</td>
                                </tr><tr>
                                    <td>Aphelion:</td><td>${this.aphelionMiles.toLocaleString()} mi</td><td>${Math.round((this.perihelionMiles * 1.609344)).toLocaleString()} km</td>
                                </tr>
                            </table>
                            <hr>
                            ${this.description}
                        </div>
                        `);
                        infoWindow.setPosition(event.latLng);
                        infoWindow.open(map);
                    });

                }


                const infoWindow = new google.maps.InfoWindow();
                infoWindow.addListener("closeclick", function () {
                    intervalId = window.setInterval(zoomOut, 2000);
                });

                const sunImageBounds = new google.maps.LatLngBounds(
                    new google.maps.LatLng(34.118005, -118.300538), // lower left
                    new google.maps.LatLng(34.118265, -118.300209)  // upper right
                );
                const sunIcon = new google.maps.GroundOverlay(
                    "./img/sun-icon.png",
                    sunImageBounds);
                sunIcon.setMap(map);

                sunIcon.addListener("click", function (event) {
                    clearInterval(intervalId);
                    infoWindow.setContent(`
                        <div class="infoWindow">
                            <strong>The Sun</strong><br>
                            <hr>
                            <table>
                                <tr>
                                    <td>Click location:</td><td>${event.latLng.lat().toFixed(6)} lat</td><td>${event.latLng.lng().toFixed(6)} lon</td>
                                </tr><tr>
                                    <td>Diameter actual:</td><td>${(865370).toLocaleString()} mi</td><td>${Math.round((865370 * 1.609344)).toLocaleString()} km</td>
                                </tr><tr>
                                    <td>Diameter scaled:</td><td>${(85).toLocaleString()} ft</td><td>${Math.round((85 * 0.3048)).toLocaleString()} m</td>
                                </tr>
                            </table>
                            <hr>
                            Stuff about The Sun and/or The Sphere.
                        </div>
                        `);
                    infoWindow.setPosition(event.latLng);
                    infoWindow.open(map);
                });

                map.setZoom(zoomLevels[0])

                intervalId = window.setInterval(zoomOut, 2000);
            }

            const zoomLevels = [21, 19, 17, 14, 11, 8];
            let i = 1;
            let intervalId;

            function zoomOut() {
                if (i < zoomLevels.length) {
                    map.setZoom(zoomLevels[i]);
                    i++;
                } else {
                    clearInterval(intervalId);
                }
            }

            const d2r = Math.PI / 180;   // degrees to radians
            const r2d = 180 / Math.PI;   // radians to degrees
            const earthsradius = 3963;   // 3963 is the radius of the earth in miles

            function drawCircle(point, radius, dir) {
                const rlat = (radius / earthsradius) * r2d;
                const rlng = rlat / Math.cos(point.lat() * d2r);

                const extp = [];
                let i = dir === 1 ? 0 : 32;
                while (dir === 1 ? i < 33 : i > 0) {
                    const theta = Math.PI * (i / 16);
                    const ey = point.lng() + (rlng * Math.cos(theta));
                    const ex = point.lat() + (rlat * Math.sin(theta));
                    extp.push(new google.maps.LatLng(ex, ey));
                    i = i + dir;
                }
                return extp;
            }

        </script>

        <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBFJ8V1qydk_HtNbvdlkK2yAkYf5GXNhTI&callback=initMap"
            async defer>
            </script>
        <hr>
        <footer>
            <p>&copy; 2005 -
                <script>document.write(new Date().getFullYear())</script> by Jack Anderson, all rights reserved.
            </p>
            <!-- Sun icon courtesy Dan Wiersema http://www.iconarchive.com/show/solar-system-icons-by-dan-wiersma/Sun-icon.html -->
        </footer>
    </div> <!-- /container -->
</body>

</html>